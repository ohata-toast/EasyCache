# 백업

**Database > EasyCache > 콘솔 사용 가이드 > 백업**

장애 상황에 대비하여 캐시를 복구할 수 있도록 미리 준비할 수 있습니다. 필요할 때마다 콘솔에서 백업을 수행하거나, 주기적으로 백업이 수행되도록 설정할 수 있습니다. 백업이 수행되는 동안에는 캐시의 마스터 노드의 성능 저하가 발생할 수 있습니다. 서비스에 영향을 주지 않기 위해 서비스의 부하가 적은 시간에 백업할 것을 권장합니다. 백업으로 인한 성능 저하를 원치 않을 경우 고가용성 구성을 사용할 수도 있습니다.

!!! tip "알아두기"
    Valkey는 백업을 수행할 때 .rdb 파일을 생성합니다. 생성한 백업을 이용해 복원하려면 백업과 호환되는 엔진 버전의 캐시를 사용할 것을 권장합니다.

## 백업 종류

백업은 수동 백업과 자동 백업을 제공합니다.

### 수동 백업

콘솔에서 수동으로 백업을 수행해 특정 시점의 캐시의 데이터를 영구히 저장할 수 있습니다. 수동 백업은 자동 백업과 달리 명시적으로 삭제하지 않는 한 캐시가 삭제되어도 함께 삭제되지 않습니다.
수동 백업 생성 시에는 백업 이름을 지정해야 하며, 다음과 같은 제약 사항이 있습니다.
* 백업 이름은 1~100자 사이의 영문자, 숫자, 일부 기호(-, _, .)만 입력할 수 있으며, 첫 번째 글자는 영문자만 사용할 수 있습니다.

[[캐시 탭 내 백업 버튼 이미지]]
#### 수동 백업 생성하기

❶ 캐시 목록에서 백업할 캐시를 선택한 뒤 **백업**을 클릭하여 수동으로 백업을 생성할 수 있습니다.
❷ 백업 목록에서 **백업 생성**을 클릭하고 백업할 캐시를 지정하여 수동으로 백업을 생성할 수 있습니다.

### 자동 백업
수동으로 백업을 수행하는 경우 외에도, 복원 작업을 위해 필요한 경우 또는 예정된 자동 백업 설정에 따라 자동 백업이 수행될 수 있습니다.

#### 자동 백업 설정하기
캐시 생성 및 수정 시 백업에 적용될 설정 항목들을 지정할 수 있습니다.

[[캐시 생성 화면 이미지]]

##### 자동 백업 허용
자동 백업을 허용하지 않으면 자동 백업을 수행하지 않으며, 아래의 자동 백업 관련 항목들에 대해 설정이 불가능합니다.

##### 백업 보관 기간(일)
자동 백업을 백업 스토리지에 저장하는 기간을 설정합니다. 최대 730일까지 보관할 수 있으며, 자동 백업 보관 기간이 변경되면 보관 기간이 지난 자동 백업 파일은 바로 삭제됩니다.

##### 자동 백업 재시도 횟수
백업 당시의 캐시 부하 또는 여러 다양한 이유로 자동 백업이 실패한 경우 재시도하도록 설정할 수 있습니다. 최대 10회까지 재시도할 수 있습니다. 재시도 횟수가 남아 있더라도 자동 백업 수행 시간 설정에 따라 재시도하지 않을 수 있습니다.

##### 자동 백업 시간 예약
백업이 자동으로 수행되는 시간을 설정할 수 있습니다. 백업 시작 시각과 백업 윈도우로 구성됩니다. 백업 수행 시간은 겹치지 않게 여러 번 설정할 수 있습니다. 백업 시작 시각을 기준으로 백업 윈도우 안의 임의의 시점에서 백업을 수행합니다. 백업 윈도우는 백업의 총 수행 시간과는 관련이 없습니다. 백업에 걸리는 시간은 캐시의 메모리 사용량 크기에 비례하며, 서비스 부하에 따라 달라집니다. 백업이 실패할 경우 백업 윈도우를 넘지 않았다면 백업 재시도 횟수에 따라 백업을 다시 시도합니다.

!!! tip "알아두기"
    이전 백업이 완료되지 않는 등의 상황에서는 백업이 수행되지 않을 수 있습니다.

## 백업 스토리지 및 과금
모든 백업 파일은 내부 백업 스토리지에 업로드하여 저장합니다. 수동 백업의 경우 별도로 삭제하기 전까지 영구히 저장되며 백업 용량에 따라 백업 스토리지 과금이 발생합니다. 자동 백업의 경우 설정한 보관 기간만큼 저장되며 백업 파일의 용량만큼 과금합니다. 백업 파일이 저장된 내부 백업 스토리지에 직접 접근할 수 없으며, 백업 파일이 필요한 경우 캐시의 데이터 내보내기 기능을 사용하여 NHN Cloud의 오브젝트 스토리지로 RDB 파일을 내보낼 수 있습니다.

## 복원
백업을 이용하여 원하는 시점으로 데이터를 복원할 수 있습니다. 복원 시 기존 캐시에 복원하거나 새로운 캐시를 만들어 복원하기를 선택할 수 있습니다. 백업을 수행한 원본 캐시와 동일한 엔진 버전을 사용하는 캐시로 복원할 수 있습니다. 외부의 RDB 파일을 이용해 복원하려면 같은 리전의 NHN Cloud 오브젝트 스토리지에 RDB 파일을 업로드한 뒤 원하는 캐시의 데이터 가져오기 기능을 사용할 수 있습니다.

!!! tip "알아두기"
    복원할 캐시의 메모리 또는 Max Memory(MB) 값이 `백업의 백업 메모리 용량`보다 작거나, 원본 캐시 파라미터 그룹과 다른 파라미터 그룹을 사용할 경우 복원에 실패할 수 있습니다.